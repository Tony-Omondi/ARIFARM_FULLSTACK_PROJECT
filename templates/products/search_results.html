{% extends 'products/base.html' %}

{% block products_content %}
<h1>Search Results for "{{ query }}"</h1>

{% if query %}
    <h2>Products ({{ results.products.count }})</h2>
    {% for product in results.products %}
    <div>
        <h3><a href="{% url 'products:product_detail' product.slug %}">{{ product.name }}</a></h3>
        <p>${{ product.price }}</p>
    </div>
    {% empty %}
    <p>No products found</p>
    {% endfor %}
    
    <h2>Recipes ({{ results.recipes.count }})</h2>
    {% for recipe in results.recipes %}
    <div>
        <h3><a href="{% url 'products:recipe_detail' recipe.slug %}">{{ recipe.title }}</a></h3>
    </div>
    {% empty %}
    <p>No recipes found</p>
    {% endfor %}
    
    <h2>Combos ({{ results.baskets.count }})</h2>
    {% for basket in results.baskets %}
    <div>
        <h3><a href="{% url 'products:basket_detail' basket.slug %}">{{ basket.name }}</a></h3>
        <p>${{ basket.price }}</p>
    </div>
    {% empty %}
    <p>No combos found</p>
    {% endfor %}
    
    <h2>Categories ({{ results.categories.count }})</h2>
    {% for category in results.categories %}
    <div>
        <h3><a href="{% url 'products:category_products' category.slug %}">{{ category.name }}</a></h3>
    </div>
    {% empty %}
    <p>No categories found</p>
    {% endfor %}
{% else %}
<p>Enter a search term</p>
{% endif %}
{% endblock %}